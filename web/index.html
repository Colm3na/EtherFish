<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<link rel="stylesheet" type="text/css" href="styles/main.css">
<title></title>
<meta name="description" content="Alimentador de peces remoto y usando Ethereum como plataforma de pagos.">
<link rel="shortcut icon" href="favicon.png">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<!-- Provider: Metamask -->
<script type="text/javascript" src="scripts/checkMetamask.js"></script>
<script type="text/javascript" src="scripts/fun.js"></script>
</head>
<body onload="getBalance()">
<header>
<h1>&Xi;therFish <sub>Alpha</sub></h1>
</header>
<div id="metamask"></div>
<div id="info">
<p>Network: <span id="network">Rinkeby</span></p>
<p>Latest Block: <span id="block">loading...</span></p>
<hr>
<p>Fish Contract: <a href="https://rinkeby.etherscan.io/address/0x0451a1c0e4194967363ad9cf1a202419ba4fe83e"><span id="contractAddress"></span></a></p>
<p>Balance: <span id="balance">loading...</span></p>
<hr>
<p>User Account: <span id="userAccount">loading...</span></p>
</div>
<div id="pecera">
<!-- <iframe id="youtube" width="426" height="240" src="https://www.youtube.com/embed/tgbNymZ7vqY?controls=0"></iframe> -->
<img src="pecera.gif" style="width:360px" alt="Pecera" />
<br>
<input id="feedButton" type="button" onclick="feed()" value="Feed it!" />
<br>
<p id="message"></p>
<p>Tx Hash: <span id="txHash"></span></p>
</div>
<footer>
<p id="time">loading datetime...</p>
</footer>
<script>
const contractAddress = "0x0451a1c0E4194967363aD9cF1A202419Ba4fe83E";
var _from;
setInterval(getTime, 1000);
$(document).ready(function () {
	$("title").text("EtherFish | Colm3na");
	$("#contractAddress").text(contractAddress);
});
const fishContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lastFeed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"feedFish","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"feeder","type":"address"}],"name":"Fed","type":"event"}]).at(contractAddress);
getUserAccount();
setInterval(funBlock, 5000);
</script>
<noscript><p>Javascript must be enabled</p></noscript>
</body>
</html>
